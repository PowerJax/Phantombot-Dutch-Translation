<!--

 Copyright (C) 2017 phantombot.tv

 This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 (at your option) any later version.

 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.

 You should have received a copy of the GNU General Public License
 along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
 @author IllusionaryOne
-->

<!-- This is outside of the accordion, so will always be on top of the tab -->

<!-- Accordion object.  Each section is separated by an <h3 /> header and the content is to be enclosed in <div />.  -->
<div id="gamblingAccordion">
    <h3>Veiling</h3>
    <div>
        <div id="_auctionPanelDisabled" />
        <div id="_auctionPanel">
            <form role="form">
                <div class="form-group" onkeypress="return event.keyCode != 13">
                    <label for="auctionOpen">Open/sluit een veiling</label>
                    <button type="button" class="btn btn-primary inline pull-right" onclick="$.auctionClose()">Sluit veiling</button>
                    <button type="button" class="btn btn-primary inline pull-right" onclick="$.auctionOpen()">Open veiling</button>
                    <input type="number" min="0" class="form-control" id="auctionIncrementInput" placeholder="Increments" />
                    <input type="number" min="0" class="form-control" id="auctionBetInput" placeholder="minimum Bod" />
                    <input type="number" min="0" class="form-control" id="auctionTimerInput" placeholder="Lengte van veiling in seconden (optioneel, standaar is de veiling totdat de veiling gesloten wordt.)" />
                </div>
            </form>

            <div id="auctionResults" />
        </div>
    </div>

    <h3>Verloting</h3>
    <div>
        <div id="_rafflePanelDisabled" />
        <div id="_rafflePanel">

            <button type="button" class="btn btn-primary inline pull-right" onclick="$.raffle.repick()">herkies</button>
            <button type="button" class="btn btn-primary inline pull-right" onclick="$.raffle.end()">Sluit</button>
            <div class="dropdown">
                <button class="btn btn-primary inline pull-right dropdown-toggle" type="button" data-toggle="dropdown">Open&nbsp;<span class="caret pull-right" style="margin-top: 8px;"></span></button>
                <ul class="dropdown-menu pull-right" style="cursor: pointer; margin-top: 39px; margin-right: 40px;">
                    <li><a data-toggle="modal" data-target="#timeRaffle">Verloting door middel van tijd</a></li>
                    <li><a data-toggle="modal" data-target="#pointsRaffle">verloting door middel van punten</a></li>
                    <li><a data-toggle="modal" data-target="#normalRaffle">normale verloting</a></li>
                </ul>
            </div>

            <div id="pointsRaffle" class="modal fade" role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content" style="background: rgb(28, 28, 36); border-radius: 3px;">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal"></button>
                            <h4 class="modal-title">verloting door middel van punten</h4>
                        </div>

                        <div class="modal-body">
                            <lable>trefwoord</lable>
                            <div class="btn-group">
                                <input style="width: 400px; margin-left: 55px;" type="text" class="form-control" id="raffle-keyword" placeholder="Trefwoord" data-toggle="tooltip" title="Dit is het trefwoord dat de personen in chat moeten typen om mee te doen met verloting. als je een ! voor het trefwoord zet wordt het een command."
                                />
                            </div>

                            <br>
                            <br>
                            <lable>Toegangs prijs</lable>
                            <div class="btn-group">
                                <input style="width: 400px; margin-left: 51px;" type="number" min="1" class="form-control" id="raffle-cost" placeholder="Punten" data-toggle="tooltip" title="De hoeveelheid punten een kijker moet hebben om mee te doen aan de verloting. Deze hoeveelheid wordt ook van hun punten afgehaald."
                                />
                            </div>

                            <br>
                            <br>
                            <lable>verkiesbaarheid</lable>&nbsp;
                            <div class="btn-group">
                                <button class="btn dropdown-toggle btn-select" style="text-align: left; margin-left: 48px; width: 405px; background: #000" data-toggle="dropdown">
                            Iedereen<span class="caret pull-right" style="margin-top: 8px;"></span></button>

                                <ul class="dropdown-menu" style="margin-left: 48px;">
                                    <li><a style="cursor: pointer; width: 400px;" class="dropdown-shadow" onclick="$.setEligibility('subscribers')">Subscribers</a>
                                    </li>
                                    <li><a style="cursor: pointer; width: 400px;" class="dropdown-shadow" onclick="$.setEligibility('followers')">Followers</a>
                                    </li>
                                    <li><a style="cursor: pointer; width: 400px;" class="dropdown-shadow" onclick="$.setEligibility('everyone')">Iedereen</a>
                                    </li>
                                </ul>
                            </div>

                            <br>
                            <lable>sluitings Timer</lable>
                            <div class="btn-group">&nbsp;&nbsp;&nbsp;
                                <input id="raffle-points-timer" style="width: 400px; margin-left: 33px;" type="range" min="0" max="120" value="0" step="1" oninput="rangeUpdate(this.value, 'raffle-points-timer2', 'Minutes')" />
                                <span id="raffle-points-timer2" style="margin-left: 33px;">tot gesloten</span>
                            </div>

                            <br>
                            <lable>Regular geluk</lable>
                            <div class="btn-group">&nbsp;&nbsp;&nbsp;
                                <input id="raffle-points-regluck" style="width: 400px; margin-left: 28px;" type="range" min="1" max="10" value="1" step="1" oninput="rangeUpdate(this.value, 'raffle-points-reg', 'Times')" />
                                <span id="raffle-points-reg" style="margin-left: 28px;">1 keer</span>
                            </div>

                            <br>
                            <lable>Subscriber geluk</lable>
                            <div class="btn-group">&nbsp;&nbsp;&nbsp;
                                <input id="raffle-points-subluck" style="width: 400px; margin-left: 10px;" type="range" min="1" max="10" value="1" step="1" oninput="rangeUpdate(this.value, 'raffle-points-sub', 'Times')" />
                                <span id="raffle-points-sub" style="margin-left: 10px;">1 keer</span>
                            </div>
                        </div>

                        <div class="modal-footer">
                            <button type="button" class="btn btn-default pull-left" data-toggle="modal" data-target="#raffleSettings"><i class="fa fa-cog"/></button>
                            <button type="button" class="btn btn-default" data-dismiss="modal" onclick="$.raffle.openPoints()">Open</button>
                            <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="timeRaffle" class="modal fade" role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content" style="background: rgb(28, 28, 36); border-radius: 3px;">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal"></button>
                            <h4 class="modal-title">Tijd verloting</h4>
                        </div>

                        <div class="modal-body">
                            <lable>Trefwoord</lable>
                            <div class="btn-group">
                                <input style="width: 400px; margin-left: 55px;" type="text" class="form-control" id="raffle-time-keyword" placeholder="Trefwoord" data-toggle="tooltip" title="Dit is het trefwoord dat viewers in chat moeten typen om mee te doen aan de verloting. Als je een ! voor het trefwoord zet wordt het een command."
                                />
                            </div>

                            <br>
                            <br>
                            <lable>minimale tijd</lable>
                            <div class="btn-group">
                                <input style="width: 400px; margin-left: 15px;" type="number" min="1" class="form-control" id="raffle-time-cost" placeholder="tijd (minuten)" data-toggle="tooltip" title="De hoeveelheid tijd in minuten een kijker in je kanaal moet zijn geweest om mee te doen met de verloting."
                                />
                            </div>

                            <br>
                            <br>
                            <lable>verkiesbaarheid</lable>&nbsp;
                            <div class="btn-group">
                                <button class="btn dropdown-toggle btn-select" style="text-align: left; margin-left: 48px; width: 405px; background: #000" data-toggle="dropdown">
                            Iedereen<span class="caret pull-right" style="margin-top: 8px;"></span></button>

                                <ul class="dropdown-menu" style="margin-left: 48px;">
                                    <li><a style="cursor: pointer; width: 400px;" class="dropdown-shadow" onclick="$.setEligibility('subscribers')">Subscribers</a>
                                    </li>
                                    <li><a style="cursor: pointer; width: 400px;" class="dropdown-shadow" onclick="$.setEligibility('followers')">Followers</a>
                                    </li>
                                    <li><a style="cursor: pointer; width: 400px;" class="dropdown-shadow" onclick="$.setEligibility('everyone')">Iedereen</a>
                                    </li>
                                </ul>
                            </div>

                            <br>
                            <lable>Sluit Timer</lable>
                            <div class="btn-group">&nbsp;&nbsp;&nbsp;
                                <input id="raffle-time-timer" style="width: 400px; margin-left: 33px;" type="range" min="0" max="120" value="0" step="1" oninput="rangeUpdate(this.value, 'raffle-time-timer2', 'Minutes')" />
                                <span id="raffle-time-timer2" style="margin-left: 33px;">tot gesloten</span>
                            </div>

                            <br>
                            <lable>Regular geluk</lable>
                            <div class="btn-group">&nbsp;&nbsp;&nbsp;
                                <input id="raffle-time-regluck" style="width: 400px; margin-left: 28px;" type="range" min="1" max="10" value="1" step="1" oninput="rangeUpdate(this.value, 'raffle-time-reg', 'Times')" />
                                <span id="raffle-time-reg" style="margin-left: 28px;">1 keer</span>
                            </div>

                            <br>
                            <lable>Subscriber geluk</lable>
                            <div class="btn-group">&nbsp;&nbsp;&nbsp;
                                <input id="raffle-time-subluck" style="width: 400px; margin-left: 10px;" type="range" min="1" max="10" value="1" step="1" oninput="rangeUpdate(this.value, 'raffle-time-sub', 'Times')" />
                                <span id="raffle-time-sub" style="margin-left: 10px;">1 keer</span>
                            </div>
                        </div>

                        <div class="modal-footer">
                            <button type="button" class="btn btn-default pull-left" data-toggle="modal" data-target="#raffleSettings"><i class="fa fa-cog"/></button>
                            <button type="button" class="btn btn-default" data-dismiss="modal" onclick="$.raffle.openTime()">Open</button>
                            <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="normalRaffle" class="modal fade" role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content" style="background: rgb(28, 28, 36); border-radius: 3px;">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal"> </button>
                            <h4 class="modal-title">normale verloting</h4>
                        </div>

                        <div class="modal-body">
                            <lable>trefwoord</lable>
                            <div class="btn-group">
                                <input style="width: 400px; margin-left: 55px;" type="text" class="form-control" id="raffle-normal-keyword" placeholder="Trefwoord" data-toggle="tooltip" title="Dit is het trefwoord dat viewers in chat moeten typen om mee te doen aan de verloting. Als je een ! voor het trefwoord zet wordt het een command."
                                />
                            </div>

                            <br>
                            <br>
                            <lable>Verkiesbaarheid</lable>&nbsp;
                            <div class="btn-group">
                                <button class="btn dropdown-toggle btn-select" style="text-align: left; margin-left: 48px; width: 405px; background: #000" data-toggle="dropdown">
                            Iedereen<span class="caret pull-right" style="margin-top: 8px;"></span></button>

                                <ul class="dropdown-menu" style="margin-left: 48px;">
                                    <li><a style="cursor: pointer; width: 400px;" class="dropdown-shadow" onclick="$.setEligibility('subscribers')">Subscribers</a>
                                    </li>
                                    <li><a style="cursor: pointer; width: 400px;" class="dropdown-shadow" onclick="$.setEligibility('followers')">Followers</a>
                                    </li>
                                    <li><a style="cursor: pointer; width: 400px;" class="dropdown-shadow" onclick="$.setEligibility('everyone')">Iedereen</a>
                                    </li>
                                </ul>
                            </div>

                            <br>
                            <lable>Sluit Timer</lable>
                            <div class="btn-group">&nbsp;&nbsp;&nbsp;
                                <input id="raffle-normal-timer" style="width: 400px; margin-left: 33px;" type="range" min="0" max="120" value="0" step="1" oninput="rangeUpdate(this.value, 'raffle-normal-timer2', 'Minutes')" />
                                <span id="raffle-normal-timer2" style="margin-left: 33px;">Tot gesloten</span>
                            </div>

                            <br>
                            <lable>Regular geluk</lable>
                            <div class="btn-group">&nbsp;&nbsp;&nbsp;
                                <input id="raffle-normal-regluck" style="width: 400px; margin-left: 28px;" type="range" min="1" max="10" value="1" step="1" oninput="rangeUpdate(this.value, 'raffle-normal-regluck2', 'Times')" />
                                <span id="raffle-normal-regluck2" style="margin-left: 28px;">1 keer</span>
                            </div>

                            <br>
                            <lable>Subscriber geluk</lable>
                            <div class="btn-group">&nbsp;&nbsp;&nbsp;
                                <input id="raffle-normal-subluck" style="width: 400px; margin-left: 10px;" type="range" min="1" max="10" value="1" step="1" oninput="rangeUpdate(this.value, 'raffle-normal-subluck2', 'Times')" />
                                <span id="raffle-normal-subluck2" style="margin-left: 10px;">1 keer</span>
                            </div>
                        </div>

                        <div class="modal-footer">
                            <button type="button" class="btn btn-default pull-left" data-toggle="modal" data-target="#raffleSettings"><i class="fa fa-cog"/></button>
                            <button type="button" class="btn btn-default" data-dismiss="modal" onclick="$.raffle.openNormal()">Open</button>
                            <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="raffleSettings" class="modal fade" role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content" style="background: rgb(28, 28, 36); border-radius: 3px;">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal"> </button>
                            <h4 class="modal-title">Globale instellingen</h4>
                        </div>

                        <div class="modal-body">
                            <lable>Automatisch bericht</lable>
                            <div class="btn-group">
                                <input id="raffle-message-input" style="width: 400px; margin-left: 56px;" type="text" class="form-control" placeholder="Bericht" />
                            </div>

                            <br>
                            <lable>Bericht Interval</lable>
                            <div class="btn-group">&nbsp;&nbsp;&nbsp;
                                <input id="raffle-message-timer" style="width: 400px; margin-left: 39px;" type="range" min="0" max="120" value="0" step="1" oninput="rangeUpdate(this.value, 'raffle-message-timer2', 'Minutes')" />
                                <span id="raffle-message-timer2" style="margin-left: 39px;">Uit</span>
                            </div>

                            <br>
                            <br>
                            <lable>Waarschuwings Bericht</lable>&nbsp;
                            <div class="btn-group">
                                <button class="btn dropdown-toggle btn-select" style="text-align: left; margin-left: 22px; width: 405px; background: #000" data-toggle="dropdown">
                            <span id="raffle-message">Uit</span><span class="caret pull-right" style="margin-top: 8px;"></span></button>

                                <ul class="dropdown-menu" style="margin-left: 22px;">
                                    <li><a style="cursor: pointer; width: 400px;" class="dropdown-shadow" onclick="$.raffle.set('raffleSettings', 'raffleMSGToggle', 'true')">Aan</a>
                                    </li>
                                    <li><a style="cursor: pointer; width: 400px;" class="dropdown-shadow" onclick="$.raffle.set('raffleSettings', 'raffleMSGToggle', 'false')">Uit</a>
                                    </li>
                                </ul>
                            </div>

                            <br>
                            <br>
                            <lable>Meerdere Herkiezingen</lable>&nbsp;
                            <div class="btn-group">
                                <button class="btn dropdown-toggle btn-select" style="text-align: left; margin-left: 39px; width: 405px; background: #000" data-toggle="dropdown">
                            <span id="raffle-repick">Nee</span><span class="caret pull-right" style="margin-top: 8px;"></span></button>

                                <ul class="dropdown-menu" style="margin-left: 39px;">
                                    <li><a style="cursor: pointer; width: 400px;" class="dropdown-shadow" onclick="$.raffle.set('raffleSettings', 'noRepickSame', 'false')">Ja</a>
                                    </li>
                                    <li><a style="cursor: pointer; width: 400px;" class="dropdown-shadow" onclick="$.raffle.set('raffleSettings', 'noRepickSame', 'true')">Nee</a>
                                    </li>
                                </ul>
                            </div>

                            <br>
                            <br>
                            <lable>Fluiser Winaar</lable>&nbsp;
                            <div class="btn-group">
                                <button class="btn dropdown-toggle btn-select" style="text-align: left; margin-left: 44px; width: 405px; background: #000" data-toggle="dropdown">
                            <span id="raffle-whisper-winner">Nee</span><span class="caret pull-right" style="margin-top: 8px;"></span></button>

                                <ul class="dropdown-menu" style="margin-left: 44px;">
                                    <li><a style="cursor: pointer; width: 400px;" class="dropdown-shadow" onclick="$.raffle.set('raffleSettings', 'raffleWhisperWinner', 'true')">Ja</a>
                                    </li>
                                    <li><a style="cursor: pointer; width: 400px;" class="dropdown-shadow" onclick="$.raffle.set('raffleSettings', 'raffleWhisperWinner', 'false')">Nee</a>
                                    </li>
                                </ul>
                            </div>

                            <br><br>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal" onclick="$.raffle.settings()">Bewaar</button>
                                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <br><br><br>
            <div id="raffleResults" />
            <td>Totale inschrijvingen: <span id="raffleentries">0</span></td>

            <br><br>
            <label for="raffleListTable">verloting inschrijf lijst</label>
            <div id="raffleListTable" style="height: 200px; overflow: auto;" />
            <br>
            <small><i>Deze lijst wordt niet gereset totdat een nieuwe verloting wordt gestard. Dit is om de winnaar te kunnen kiezen.</i></small>

        </div>
    </div>

    <h3>Ticket verloting</h3>
    <div>
        <div id="_trafflePanelDisabled" />
        <div id="_trafflePanel">
            <form role="form">
                <div class="form-group" onkeypress="return event.keyCode != 13">
                    <label for="traffleOpen">Open/sluit een Ticket verloting</label>
                    <button type="button" class="btn btn-primary inline pull-right" onclick="$.traffleRepick()">Herkies winnaar</button>
                    <button type="button" class="btn btn-primary inline pull-right" onclick="$.traffleClose()">Sluit verloting</button>
                    <button type="button" class="btn btn-primary inline pull-right" onclick="$.traffleOpen()">Open verloting</button>
                    <input type="number" min="0" class="form-control" id="traffleMaxInput" placeholder="Maximale Entries" />
                    <input type="number" min="0" class="form-control" id="traffleCostInput" placeholder="prijs per Ticket" />
                </div>
                <div class="checkbox">
                    <label>
                    <input type="checkbox" id="traffleFollowerInput" value="-followers">alleen followers
                </label>
                </div>

                <div class="checkbox">
                    <label><input type="checkbox" id="traffleEnterMsg" onclick="$.toggleTRaffleMsg()">Waarschuwings Bericht</label>
                </div>
            </form>

            <form role="form">
                <div class="form-group" onkeypress="return event.keyCode != 13">
                    <label for="traffleMsg">verloting bericht</label>
                    <button type="button" class="btn btn-primary inline pull-right" onclick="$.updateTRaffleSettings('traffleMsg')">Bijwerken</button>
                    <input type="text" class="form-control" id="traffleMsg" placeholder="bericht" data-toggle="tooltip" title="Automatisch aankondig bericht voor de verloting. Dit wordt pas toegepast als een nieuwe verloting wordt gestart. Tag: (entries)" />
                </div>
            </form>

            <form role="form">
                <div class="form-group" onkeypress="return event.keyCode != 13">
                    <label for="traffleTimer">bericht Timer (minuten)</label>
                    <button type="button" class="btn btn-primary inline pull-right" onclick="$.updateTRaffleSettings('traffleTimer')">Bijwerken</button>
                    <input type="number" min="0" class="form-control" id="traffleTimer" placeholder="Hoeveelheid" data-toggle="tooltip" title="Auto aankondig timer voor de verloting. gebruik 0 om het uit te schakelen. Dit wordt pas toegepast als een nieuwe verloting wordt gestart."
                    />
                </div>
            </form>

            <div id="traffleResults" />
            <br>
            <td>Totale Inschrijvingen: <span id="traffleentries">0</span></td>
            <br>
            <br>
            <label for="traffleListTable">verloting inschrijf lijst</label>
            <div id="traffleListTable" style="height: 200px; overflow: auto;" />
            <br>
            <small><i>Deze lijst wordt niet gereset totdat een nieuwe verloting wordt gestard. Dit is om de winnaar te kunnen kiezen.</i></small>
        </div>
    </div>
</div>
</div>

<!-- Run the Acordion -->
<script>
    $("#gamblingAccordion").accordion({
        clearStyle: true,
        heightStyle: "panel",
        icons: null
    });
</script>
<script>
    $('[data-toggle="tooltip"]').tooltip({
        trigger: 'hover'
    });
</script>
<script>
    function rangeUpdate(value, id, string) {
        document.getElementById(id).innerHTML = value + ' ' + string;
    }
</script>
<script>
    $(".dropdown-menu li a").click(function() {
        $(this).parents('.btn-group').find('.dropdown-toggle').html($(this).text() + '</span> <span class="caret pull-right" style="margin-top: 8px;"></span>');
    });
</script>
<script>
    handleInputFocus();
</script>